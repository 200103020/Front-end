<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/editProfile.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"/>
    <title>My profile</title>
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="nav">
                <h1>Happy Clients</h1>
                <div class="shops">
                    <div class="enter">
                        <img src="img/user.png" class="user-pic" onclick="toggleMenu()">
                    </div>
                    <div class="sub-menu-wrap" id="subMenu">
                        <div class="sub-menu">
                            <div class="uer-info">
                                <img src="img/user.png" class="img2">
                                <h3>Kozhan Nursylam</h3>
                            </div>
                            <hr>
                            <a href="#" class="sub-menu-link">
                                <i class="fa-solid fa-user"></i>
                                <p>My profile</p>
                                <span>></span>
                            </a>
                            <a href="#" class="sub-menu-link">
                                <i class="fa-solid fa-pen-to-square"></i>
                                <p>Edit profile</p>
                                <span>></span>
                            </a>
                            <a href="#" class="sub-menu-link">
                                <i class="fa-solid fa-right-from-bracket"></i>
                                <p>Log out</p>
                                <span>></span>
                            </a>
                        </div>
                    </div>
                    <div class="cart">
                        <a href="#">
                            <i class="fa-solid fa-cart-shopping"></i>
                            <span>Basket</span>
                        </a>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <section class="edits">
        <div class="container">
            <main>
                <div class="btn_link">
                    <div class="link">
                        <span>
                            <a href="main.html">Home /</a>
                        </span>
                        <a href="#">Profile</a>
                    </div>
                    <div class="save-btn">
                        <button>Save</button>
                        <button>Cancel</button>
                    </div>
                </div>
                <div class="info">
                    <div class="main-info">
                        <div class="main_profile">
                            <div class="first">
                                <div class="image">
                                    <img src="" id="addImg" alt="">
                                </div>
                                <div class="content">
                                    <div class="icon"><i class="fa-solid fa-user"></i></div>
                                    <!-- <div class="text">No file chosen, yet!</i></div> -->
                                </div>
                                <!-- <div id="cancel_btn"><i class="fas fa-times"></i></div> -->
                                <!-- <div id="file_name"><i>File name here</i></div> -->
                            </div>
                            <input id="default-btn" type="file" hidden>
                            <!-- <input id="upload_btn" type="sybmit" hidden> -->
                            <button onclick="defaultBtnActive()" id="custom-btn" class="custom-btn">Change a photo</button>
                            <div class="form">
                                <h3>Main Information</h3>
                                <div class="texts">
                                    <div class="surLastNames">
                                        <label>
                                            <span>First Name</span>
                                            <input type="text" name="username" placeholder="Cristiano">
                                        </label>
                                        <label>
                                            <span>Last Name</span>
                                            <input type="text" name="username" placeholder="Ronaldo">
                                        </label>
                                    </div>
                                    <div class="password-mail">
                                        <label>
                                            <span>Password</span>
                                            <div class="input-password">
                                                <input type="password" name="password" id="password">
                                                <button class="input-btn">CHANGE PASSWORD</button>
                                                <div class="input-img" id="eyeicon">
                                                    <img src="img/eye_open.svg" alt="#">
                                                </div>
                                            </div>
                                        </label>
                                    </div>
                                    <div class="email">
                                        <label>
                                            <span>Email</span>
                                            <input type="email" name="email" placeholder="cristiano@gmail.com">
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="additional-info">
                            <h3>Additional information (optional)</h3>
                            <div class="form_each_line">
                                <label for="gender">Gender</label>
                                <select id="gender" name="gender">
                                    <option value="au">Male</option>
                                    <option value="ca">Female</option>
                                </select>
                            </div>
                            <div class="form_each_line">
                                <label for="date">Date of Birth</label>
                                <input id="today" type="date" value="mm-dd-yy">
                            </div>
                            <div class="form_each_line">
                                <label for="address">Address</label>
                                <input type="text">
                            </div>
                            <div class="form_each_line" id="country-city">
                                <div class="city">
                                    <label for="city">City</label>
                                    <select id="city" name="city">
                                        <option value="au">Almaty</option>
                                        <option value="ca">Astana</option>
                                    </select>
                                </div>
                                <div class="country">
                                    <label for="Country">Country</label>
                                    <select id="Country" name="Country">
                                        <option value="au">Kazakhstan</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form_each_line">
                                <label for="tel">Phone</label>
                                <input type="tel" id="phone" name="phone"
                                pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
                                required>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </section>
    <script>
        let subMenu = document.getElementById("subMenu");

        function toggleMenu(){
            subMenu.classList.toggle("open-menu");

        }
    </script>
    <script>
        const first = document.querySelector(".first");
        const fileName = document.querySelector("#file_name");
        // const cancelBtn = document.querySelector("#cancel_btn");
        const defaultBtn = document.querySelector("#default-btn");
        const customBtn = document.querySelector("#custom-btn");
        const uploadBtn = document.querySelector("#upload_btn");
        const img = document.querySelector("#addImg");
        let regExp = /[0-9a-zA-Z\\&\"\@\{\}\[\]\, \$\=\/\-\#\(\)\. \%\+\~\_ ]+$/;
        function defaultBtnActive(){
            defaultBtn.click();
        }

        // function uploadFile() {
        //     console.log("Файл отправлен!");
        // }

        defaultBtn.addEventListener("change", function(){
            const file = this.files[0];
            if(file){
                const reader = new FileReader();
                reader.onload = function(){
                    const result = reader.result;
                    img.src = result;
                    first.classList.add("active");
                }
                // cancelBtn.addEventListener("click", function(){
                //     img.src = "";
                //     first.classList.remove("active");
                // });

                reader.readAsDataURL(file);
                if(this.value){
                    let valueStore = this.value.replace(/^.*[\\\/]/, '');;
                    fileName.textContent = valueStore;
                }
            }
        });

        // uploadBtn.addEventListener("click", function() {
        //     const file = defaultBtn.files[0];
        //     if (file) {
        //         uploadFile();
        //     } else {
        //         console.log("Файл не выбран!");
        //     }
        // });
    </script>
    <script>
        let today = new Date().toISOString().substr(0, 10);
        document.querySelector("#today").value = today;
    </script>
    <script>
        let eyeicon = document.getElementById("eyeicon");
        let password = document.getElementById("password");

        eyeicon.onclick = function(){
            if(password.type == "password"){
                password.type = "text";
                eyeicon.src = "eye_closed.svg";
            } else {
                password.type = "password";
                eyeicon.src = "eye_open.svg";
            }
        }
    </script>
</body>s
</html>